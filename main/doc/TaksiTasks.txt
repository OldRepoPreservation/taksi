Taksi Dev Notes
6/6/2006

OPEN QUESTIONS:
why use HeapAlloc instead of new for allocs ? seems the same to me.
dummy keyboard to keep dll loaded ?

KNOWN BUGS:
Some Codec MUST have mult of 4 input even tho they dont fail. MSMPEG4
Support auto alternate codec if codec fails ?
The same application has multiple main windows. or multiple instances.
Half sized GDI not work.
Non Frame GDI not working properly.
Odd flash when switching DX applcations. must change focus 2 times ?
GDI indicator drawn over overlapped windows. bleeds through.
Data recorded stat number not including overhead! too small.
Should prefer graphics hook over GDI hook. 
Very unpredictable crash after record in gdi with firefox ?

TODO:
check menu for paused mode.
crc diff uncompressed frames with last. empty frame.
stats should show capture mode.
Need message explaining focus changing/hooking.
Allow adjust of the size of the background thread Q
makefile, Manual.txt completely out of date!
Audio
Better frame rate calculation ?
Graphics Mode Text overlay - display frame rate/ Megs of data written as text on live window
Context sensative help file.
put debuglog files in the capture dir ?
render the mouse cursor in graphics modes.
hook callbacks might not be on the same thread?

Comment tag inside AVI file. TAKSI vX date + user comments?
Suggest codecs appropriate to desired CPU usage. MSMpeg4v3 seems good.
Can we use the DirectX JPEG/PNG compressor for screen shots ??
AVI may not be the best format. has too much overhead. is MPG or WMV better ?
http://guru.multimedia.cx/category/container-formats/
smaller AVI index ? only index every nth frame or an index every 10 seconds ?
reflect state in tooltip ?
add a watermark or logo ?
color reduction for GDI. reduce to a smaller number of colors ?

AUDIO TASK:
Get audio from WaveIn (assumes loopback) ? (much easier)
Compress and write audio frames to the AVI file.
Hook Audio stream from output?
 Capture of audio is quite complex unless there is already a loopback in place on the hardware.
 Without a loopback input the output must be hooked at a very low (kernel) level.
 Hook audio output (Wave,DirectSound) device at kernel level

Does windows media encoder record audio? How do others do it?
